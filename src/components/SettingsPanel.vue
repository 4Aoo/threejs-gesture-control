<template>
    <el-card class="settings-panel" shadow="always">
        <template #header>
            <div class="card-title">ğŸ›  æ§åˆ¶é¢æ¿</div>
        </template>

        <div class="row">
            <span class="label">å½“å‰æ‰‹åŠ¿ï¼š</span>
            <el-tag size="small" type="success">{{ currentGesture || 'æ— ' }}</el-tag>
        </div>

        <div class="row">
            <span class="label">æ—‹è½¬ï¼š</span>
            <el-switch v-model="spin" active-text="è‡ªåŠ¨æ—‹è½¬" inactive-text="åœæ­¢æ—‹è½¬" @change="emit('toggle-spin', spin)" />
        </div>

        <div class="row">
            <span class="label">èƒŒæ™¯æ¨¡å¼ï¼š</span>
            <el-select v-model="mode" size="small" style="width: 140px" @change="emit('switch-background', mode)">
                <el-option label="çº¯é»‘" value="black" />
                <el-option label="æ˜Ÿç©ºå›¾1" value="stars" />
                <el-option label="æ·±è“" value="navy" />
            </el-select>
        </div>

        <div class="button-group">
            <el-button size="small" plain @click="emit('reset-view')">é‡ç½®è§†è§’</el-button>
            <el-button size="small" type="primary" @click="emit('next-shader')">ä¸‹ä¸€é˜¶æ®µ</el-button>
        </div>
    </el-card>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const props = defineProps<{ currentGesture: string }>()
const emit = defineEmits<{
  (e: 'toggle-spin', value: boolean): void
  (e: 'reset-view'): void
  (e: 'next-shader'): void
  (e: 'switch-background', value: 'black' | 'stars' | 'navy'): void
}>()


const mode = ref<'black' | 'stars' | 'navy'>('black')
const spin = ref(false)

</script>

<style scoped>
.settings-panel {
    position: absolute;
    left: 24px;
    bottom: 80px;
    width: 260px;
    z-index: 20;
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.card-title {
    font-size: 16px;
    font-weight: bold;
    color: #333;
}

.row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 14px;
}

.label {
    font-size: 14px;
    color: #444;
}

.button-group {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
}
</style>
